<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Linear Regression Demo</title>
  <style>
    svg {
      width: 100%;
      height: 100%;
      background-color: #f1f1f1;
    }
    circle {
      fill: #000;
      stroke: none;
      pointer-events: none;
    }
    line {
      stroke: #f00;
      stroke-width: 2;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <svg id="plot"></svg>

  <script>
    // generate random data points
    var points = [];
    for (var i = 0; i < 10; i++) {
      var x = Math.random() * 500;
      var y = Math.random() * 500;
      points.push({ x: x, y: y });
    }

    // calculate linear regression line
    var xSum = 0;
    var ySum = 0;
    var xySum = 0;
    var x2Sum = 0;
    var n = points.length;
    for (var i = 0; i < n; i++) {
      xSum += points[i].x;
      ySum += points[i].y;
      xySum += points[i].x * points[i].y;
      x2Sum += points[i].x * points[i].x;
    }
    var slope = (n * xySum - xSum * ySum) / (n * x2Sum - xSum * xSum);
    var intercept = (ySum - slope * xSum) / n;

    // generate SVG elements
    var svg = document.getElementById("plot");
    for (var i = 0; i < n; i++) {
      var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      circle.setAttribute("cx", points[i].x);
      circle.setAttribute("cy", points[i].y);
      circle.setAttribute("r", 5);
      svg.appendChild(circle);
    }
    var line = document.createElementNS("http://www.w3.org/2000/svg", "line");
    line.setAttribute("x1", 0);
    line.setAttribute("y1", intercept);
    line.setAttribute("x2", 500);
    line.setAttribute("y2", slope * 500 + intercept);
    svg.appendChild(line);
  </script>
</body>
</html>
